<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BGMI Tournament Points Calculator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --bg:#f6f7fb; --card:#ffffff; --ink:#222; --muted:#666;
      --brand:#2563eb; --brand-ink:#fff; --ok:#10b981; --warn:#ef4444;
      --row:#f3f4f6; --row2:#eef2ff;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink); background:var(--bg);}
    header{padding:22px 16px; text-align:center;}
    header h1{margin:0 0 6px; font-size:24px;}
    header .sub{color:var(--muted); font-size:14px;}
    .wrap{max-width:1100px; margin:0 auto; padding:0 16px 40px;}
    .card{background:var(--card); border-radius:14px; box-shadow:0 6px 20px rgba(0,0,0,.06); padding:16px;}
    .row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
    .options{margin:14px 0 18px;}
    .options label{margin-right:16px; user-select:none;}
    .options input[type="checkbox"]{transform:translateY(1px)}
    .teams-grid{display:grid; grid-template-columns:repeat(2,minmax(280px,1fr)); gap:12px;}
    @media (max-width: 820px){ .teams-grid{grid-template-columns:1fr;} }
    .team{background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:10px;}
    .team h3{margin:0 0 6px; font-size:14px; color:var(--muted);}
    .inputs{display:grid; grid-template-columns:1.2fr .8fr .8fr .9fr .7fr; gap:8px; align-items:center}
    .inputs input[type="text"], .inputs input[type="number"]{
      width:100%; padding:8px 10px; border:1px solid #e5e7eb; border-radius:8px; font-size:14px;
    }
    .inputs input[type="number"]::-webkit-outer-spin-button,
    .inputs input[type="number"]::-webkit-inner-spin-button{margin:0}
    .inputs label{display:flex; align-items:center; gap:6px; font-size:13px; color:#374151}
    .bar{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .btn{border:0; border-radius:10px; padding:10px 14px; font-weight:600; cursor:pointer}
    .btn.primary{background:var(--brand); color:var(--brand-ink)}
    .btn.ghost{background:#e5e7eb}
    .btn.ok{background:var(--ok); color:#fff}
    .btn.warn{background:var(--warn); color:#fff}
    .error{color:var(--warn); font-size:13px; margin:6px 0 0 2px}
    .muted{color:var(--muted)}
    table{width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:12px; background:#fff; margin-top:14px}
    thead th{background:#111827; color:#fff; font-weight:600; font-size:14px; padding:10px}
    tbody td{padding:10px; text-align:center; border-bottom:1px solid #f0f2f5; font-size:14px}
    tbody tr:nth-child(odd){background:var(--row)}
    tbody tr:nth-child(even){background:var(--row2)}
    tbody tr:first-child td{font-weight:700}
    .rank-badge{display:inline-block; min-width:30px; padding:2px 8px; border-radius:999px; background:#111827; color:#fff}
    .top1{background:#f59e0b}
    .top2{background:#9ca3af}
    .top3{background:#b45309}
    .panel{display:flex; gap:10px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-top:16px}
    .right{display:flex; gap:10px; align-items:center}
    .select{padding:8px 10px; border:1px solid #e5e7eb; border-radius:8px; background:#fff}
  </style>
</head>
<body>
<header>
  <h1>BGMI Tournament Points Calculator</h1>
  <div class="sub">Placement + Finishes (Impact optional) + Bounty kills. Multiple matches supported.</div>
</header>
<div class="wrap">
  <div class="card">
    <div class="panel">
      <div class="row">
        <label><input type="checkbox" id="enableImpact" /> Enable Impact Player (√ó2 per impact finish)</label>
        <label><input type="checkbox" id="enableBounty" /> Enable Bounty Points (+10 per bounty kill)</label>
      </div>
      <div class="right">
        <label class="row muted">Teams:
          <select id="teamCount" class="select">
            <option value="24" selected>24</option>
            <option value="16">16</option>
          </select>
        </label>
      </div>
    </div>
    <div id="teams" class="teams-grid"></div>
    <div class="bar">
      <button class="btn primary" id="generateBtn">Generate Points Table</button>
      <button class="btn ok" id="addMatchBtn">Add Match</button>
      <button class="btn warn" id="resetBtn">Reset Tournament</button>
    </div>
  </div>
  <div class="card" id="leaderboardCard">
    <h2 style="margin:0 0 10px">üèÜ Leaderboard</h2>
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Team</th>
          <th>Placement Pts</th>
          <th>Kill Pts</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody id="leaderboardBody"></tbody>
    </table>
  </div>
</div>
<script>
(() => {
  const DEFAULT_TEAMS = 16;
  const IMPACT_MULTIPLIER = 2;
  function placementPoints(place){
    if(place===1) return 10;
    if(place===2) return 6;
    if(place===3) return 5;
    if(place===4) return 4;
    if(place===5) return 3;
    if(place===6) return 2;
    if(place===7) return 1;
    return 0;
  }
  let standings = {};
  let teamCount = DEFAULT_TEAMS;
  const els = {
    teamCount:document.getElementById("teamCount"),
    teamsWrap:document.getElementById("teams"),
    leaderboardBody:document.getElementById("leaderboardBody"),
    generateBtn:document.getElementById("generateBtn"),
    addMatchBtn:document.getElementById("addMatchBtn"),
    resetBtn:document.getElementById("resetBtn"),
    enableImpact:document.getElementById("enableImpact"),
    enableBounty:document.getElementById("enableBounty"),
  };
  function buildInputs(){
    els.teamsWrap.innerHTML="";
    for(let i=1;i<=teamCount;i++){
      const team=document.createElement("div");
      team.className="team";
      team.innerHTML=`
        <h3>Team ${i}</h3>
        <div class="inputs">
          <input type="text" id="name${i}" placeholder="Team name"/>
          <input type="number" id="placement${i}" placeholder="Place" min="1" max="${teamCount}"/>
          <input type="number" id="finishes${i}" placeholder="Finishes" min="0"/>
          <input type="number" id="impact${i}" placeholder="Impact" min="0" value="0"/>
          <label><input type="checkbox" id="bounty${i}"/> Bounty</label>
        </div>`;
      els.teamsWrap.appendChild(team);
    }
  }
  function generateTable(){
    const enableImpact=els.enableImpact.checked;
    const enableBounty=els.enableBounty.checked;
    let rows=[];
    for(let i=1;i<=teamCount;i++){
      const name=document.getElementById(`name${i}`).value||`Team ${i}`;
      const place=parseInt(document.getElementById(`placement${i}`).value||0);
      const fins=parseInt(document.getElementById(`finishes${i}`).value||0);
      let impact=parseInt(document.getElementById(`impact${i}`).value||0);
      if(impact>fins) impact=fins;
      const bounty=document.getElementById(`bounty${i}`).checked;
      const placementPts=placementPoints(place);
      const killPts=(fins-(enableImpact?impact:0))*1+(enableImpact?impact*IMPACT_MULTIPLIER:0)+(enableBounty&&bounty?10:0);
      const total=placementPts+killPts;
      rows.push({name,placementPts,killPts,total,idx:i});
    }
    rows.sort((a,b)=>{
      if(b.total!==a.total) return b.total-a.total;
      if(b.placementPts!==a.placementPts) return b.placementPts-a.placementPts;
      if(b.killPts!==a.killPts) return b.killPts-a.killPts;
      return a.idx-b.idx;
    });
    els.leaderboardBody.innerHTML=rows.map((r,idx)=>{
      let badge="rank-badge";
      if(idx===0) badge+=" top1"; else if(idx===1) badge+=" top2"; else if(idx===2) badge+=" top3";
      return `<tr>
        <td><span class="${badge}">${idx+1}</span></td>
        <td>${r.name}</td>
        <td>${r.placementPts}</td>
        <td>${r.killPts}</td>
        <td>${r.total}</td>
      </tr>`;
    }).join("");
  }
  function addMatch(){
    // Add cumulative logic if you want multiple matches
    alert("Match added (extend logic here if needed)");
  }
  function reset(){
    els.leaderboardBody.innerHTML="";
    buildInputs();
  }
  els.generateBtn.addEventListener("click",generateTable);
  els.addMatchBtn.addEventListener("click",addMatch);
  els.resetBtn.addEventListener("click",reset);
  els.teamCount.addEventListener("change",()=>{teamCount=parseInt(els.teamCount.value);buildInputs();});
  buildInputs();
})();
</script>
</body>
</html>
